---
title: 进程通信
date: 2023-01-05 20:00:46
permalink: /pages/8c5da1/
---
# 进程通信

## 进程通信的概念

![IMG_20221031_135843](https://static.pil0txia.com/picgo/IMG_20221031_135843.jpg)

任何时候都不能直接访问临界资源

## 共享存储

共享空间是临界区，P1和P2互斥访问（PV操作）

共享方式上，共享存储分为基于数据结构的共享（较为低级，速度慢限制多，例如开辟一个数组）和基于存储区的共享（高级通信方式，速度快，在内存中划出一块共享存储区，数据结构和存放位置都由进程控制，而不是OS）

## 管道通信

![IMG_20221031_140352](https://static.pil0txia.com/picgo/IMG_20221031_140352.jpg)

从P2传回给P1时，必须再开辟一个管道，以实现全双工。

## 消息传递

[回顾第一章消息传递等通信方式](#内核)

>### 直接通信方式
>
>发送进程发送消息之前，首先申请一个缓冲区，之后把消息复制到缓冲区，再通过发送原语把缓冲区发送给接受进程，缓冲区首先到达接受进程的消息缓冲队列队尾。接受进程通过接受原语读取队列消息，并复制到本地变量。
>
>### 间接通信方式
>
>也叫做信箱通信。发送进程发送的消息首先到达一个消息容器，接受进程再从消息容器中接受消息。

